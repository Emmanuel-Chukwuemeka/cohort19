if (self.CavalryLogger) { CavalryLogger.start_js(["fI7fIq1"]); }

__d("EventPermalinkURISetter",["PageTransitions","URI"],(function(a,b,c,d,e,f,g){function a(a){if(window.location.search!==""){a=new(c("URI"))(window.location.pathname+window.location.search);var b=a.getQueryData();b.event_time_id?a.setQueryData({event_time_id:b.event_time_id}):b.active_tab?a.setQueryData({active_tab:b.active_tab}):b.notif_t&&b.notif_id?a.setQueryData({notif_t:b.notif_t,notif_id:b.notif_id}):a.setQueryData({});b=a.toString();window.history.replaceState(b,document.title,b)}}function b(a){a="/events/"+a;window.history.pushState({subpath:a},document.title,a)}function d(){window.onpopstate=function(a){a.state&&a.state.subpath&&c("PageTransitions").go(a.state.subpath,!0)}}g.setURI=a;g.updateURI=b;g.initHandler=d}),98);
__d("onEnclosingPageletDestroy",["Arbiter","DOMQuery"],(function(a,b,c,d,e,f,g){function a(a,b){var e=c("Arbiter").subscribe("pagelet/destroy",function(c,f){d("DOMQuery").contains(f.root,a)&&(e.unsubscribe(),b())});return e}g["default"]=a}),98);
__d("AbstractDockingElement",["Arbiter","Event","FullScreen","Run","SubscriptionsHandler","onEnclosingPageletDestroy","queryThenMutateDOM","removeFromArray"],(function(a,b,c,d,e,f,g){var h=[],i=null;function j(){if(c("FullScreen").isFullScreen())return;c("queryThenMutateDOM")(function(){return h.forEach(function(a){return a.queryDOM()})},function(){return h.forEach(function(a){return a.updateWithCache()})},"AbstractDockingElement")}function k(){i||(i=new(c("SubscriptionsHandler"))(),i.addSubscriptions(c("Event").listen(window,"scroll",j),c("Event").listen(window,"resize",j),d("Run").onLeave(function(){while(h.length)l(h[0])})),i=i);return i}function l(a){try{a.onPageletDestroyed&&c("Arbiter").unsubscribe(a.onPageletDestroyed)}catch(a){}finally{a.onPageletDestroyed=null}if(!i||h.indexOf(a)===-1)return;c("removeFromArray")(h,a);if(h.length)return;i.release();i=null}function a(b,d,e){var a=k(),f={onPageletDestroyed:a.addSubscriptions(c("onEnclosingPageletDestroy")(b,function(){l(f)})),queryDOM:d,updateWithCache:e};h.push(f)}g.register=a}),98);
__d("DirectionalDockingElement",["cx","AbstractDockingElement","Arbiter","CSS","DOM","Scroll","Style","UITinyViewportAction","UserAgent","ViewportBounds","getElementPosition","getStyleProperty","queryThenMutateDOM"],(function(a,b,c,d,e,f,g,h){var i=!0,j=!1,k=c("UserAgent").isBrowser("Safari < 10")||c("UserAgent").isBrowser("Mobile Safari < 10");a=function(){function a(a){this.$11=null,this.$5=0,this.$2=null,this.$7=!1,this.$12=a,this.$8=0,this.$11=null,this.$13=0,this.register(),this.$14=c("ViewportBounds").getTop(),c("Style").set(this.$12,"width",this.$12.getBoundingClientRect().width+"px"),this.$9=c("DOM").create("div"),d("CSS").addClass(this.$9,"_lwx"),c("Style").set(this.$9,"position","relative"),c("DOM").replace(this.$12,this.$9),c("DOM").appendContent(this.$9,this.$12),this.update()}var b=a.prototype;b.register=function(){d("AbstractDockingElement").register(this.getRoot(),this.__queryDOM.bind(this),this.__updateWithCache.bind(this))};b.subscribe=function(a,b,d){this.$1||(this.$1=new(c("Arbiter"))());return this.$1.subscribe(a,b,d)};b.destroy=function(){c("DOM").replace(this.$9,this.$12)};b.__queryDOM=function(){var a=-c("getElementPosition")(this.$9).y;a!==this.$13&&(this.$15=a>this.$13?j:i,this.$13=a);this.$6=this.$12.getBoundingClientRect();a=document;var b=a.body;a=a.documentElement;if(b&&a){var e=a.clientHeight;a=a.scrollHeight;this.$7=d("Scroll").getTop(b)+e>Math.max(e,a)}if(k){this.$11=c("getElementPosition")(this.$9);b=parseInt(c("getStyleProperty")(this.$12,"left"),10);this.$11&&!isNaN(b)&&b!==this.$11.x&&(this.$11=babelHelpers["extends"]({},this.$11,{x:b}))}this.$12.style.position==="fixed"&&(this.$5=c("getElementPosition")(this.$12).y+this.$13)};b.$16=function(a,b,d){if(b===this.$4&&a===this.$3&&d===this.$2)return;var e=a!==this.$3,f={};b!==this.$4&&(f.top=b+"px",this.$4=b);a!==this.$3&&(f.position=a,this.$3=a);k&&(d!==this.$2&&(f.left=typeof d==="number"?d+"px":"auto",this.$2=d));c("Style").apply(this.$12,f);e&&this.$1&&this.$1.inform("changedposition")};b.$17=function(){this.$16("fixed",this.$14,this.$11?this.$11.x:null)};b.$18=function(){this.$16("fixed",this.$8,this.$11?this.$11.x:null)};b.$19=function(){this.$16("absolute",this.$5,null)};b.unfixAndScrollBy=function(a){this.$5=Math.max(0,this.$5-a),this.$19()};b.translateY=function(a){var b=c("getElementPosition")(this.$12).y,d=c("getElementPosition")(this.$9).y;b=b-d;this.$5=a+b;this.$19()};b.__updateWithCache=function(){var a=Math.round(this.$6.height);a!==this.$10&&(c("Style").set(this.$9,"height",a+"px"),this.$10=a,this.$1&&this.$1.inform("changedheight"));if(this.$7)return;if(this.$13+this.$14<0||c("UITinyViewportAction").isTiny()){this.$5=0;this.$19();c("Arbiter").inform("reflow");return}this.$15===j&&this.$13+this.$8>=this.$5?this.$18():this.$15===i&&this.$13+this.$14<=this.$5?this.$17():this.$19();c("Arbiter").inform("reflow")};b.update=function(){var a=this;c("queryThenMutateDOM")(function(){a.__queryDOM()},function(){a.__updateWithCache()})};b.setOffset=function(a){return this.setOffsetAndTop(a,this.$14)};b.setOffsetAndTop=function(a,b){var d=this;c("queryThenMutateDOM")(function(){d.__queryDOM(),d.$8=Math.round(a),d.$14=b},function(){d.__updateWithCache()});return this};b.setTop=function(a){return this.setOffsetAndTop(this.$8,a)};b.getPlaceholder=function(){return this.$9};b.getRoot=function(){return this.$12};return a}();g["default"]=a}),98);
__d("XUISubNavigationLoader",["csx","cx","AjaxPipeRequest","CSS","DOM","FIGEntityPageLayout","PageHooks","PageTransitions","PageTransitionsRegistrar","Parent","Run","createCancelableFunction"],(function(a,b,c,d,e,f,g,h,i){var j="._3o_h",k="content_container",l="_4t7n",m="._4t7n",n="_2fvv",o="_2yap",p="._2yap",q="._6ng8",r="_6ng8",s=null,t=[],u=[],v=null;function w(a){for(var b=0;b<t.length;b++){var e=t[b];if(e(a))return!0}d("Run").onLeave(function(){c("PageTransitionsRegistrar").removeHandler(w,6),u.forEach(function(a){return a()}),u=[],t=[]});return!1}function x(a,b){d("CSS").conditionClass(a,l,b)}function y(a,b){b===void 0&&(b=!1);var e=d("Parent").byClass(a,n);c("DOM").scry(e,j).forEach(function(a){c("DOM").remove(a)});c("DOM").scry(e,p).forEach(function(a){d("CSS").removeClass(a,o)});b&&c("DOM").scry(e,q).forEach(function(a){d("CSS").removeClass(a,r)});d("CSS").addClass(a,o);b&&d("CSS").addClass(a,r)}function z(a){s&&(s.abort(),s=null,c("DOM").scry(d("Parent").byClass(a,n),m).forEach(function(a){d("CSS").removeClass(a,l)}))}function a(a,b,e,f){f===void 0&&(f=!1),z(e),y(e,f),x(e,!0),c("PageHooks").runHooks("onleavehooks"),s=new(c("AjaxPipeRequest"))(k,b).setData(babelHelpers["extends"]({},a.getQueryData(),{path:a.getPath()})).setFirstResponseHandler(function(){x(e,!1)}).setFinallyHandler(function(){s=null,d("FIGEntityPageLayout").update(),c("PageTransitions").transitionComplete(!0)}).send()}function b(a){t.length||c("PageTransitionsRegistrar").registerHandler(w,6),v&&v.remove(),t.push(a)}function e(a){!t.length&&!v&&(v=d("Run").onLeave(function(){u.forEach(function(a){return a()}),u=[]}));a=c("createCancelableFunction")(a);u.push(a);return{remove:function(){a.cancel()}}}g.setLoading=x;g.setSelected=y;g.cancelRequest=z;g.sendRequest=a;g.registerHandler=b;g.onLeave=e}),98);
__d("EntityPageDirectionalDockingElement",["DirectionalDockingElement","EntityPageDockingElementController"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.register=function(){d("EntityPageDockingElementController").register(this.__queryDOM.bind(this),this.__updateWithCache.bind(this))};return b}(c("DirectionalDockingElement"));g["default"]=a}),98);
__d("EntityPageDockingElementController",["Event","SubscriptionsHandler","XUISubNavigationLoader","queryThenMutateDOM","throttle"],(function(a,b,c,d,e,f,g){var h=[],i=null,j=c("throttle")(function(){c("queryThenMutateDOM")(function(){return h.forEach(function(a){return a.queryDOM()})},function(){return h.forEach(function(a){return a.updateWithCache()})},"EntityPageDockingElementController")});function a(a,b){i||(i=new(c("SubscriptionsHandler"))(),i.addSubscriptions(c("Event").listen(window,"scroll",j),c("Event").listen(window,"resize",j),d("XUISubNavigationLoader").onLeave(function(){h=[],i&&(i.release(),i=null)})));a={queryDOM:a,updateWithCache:b};h.push(a)}g.register=a}),98);
__d("getEntityPageDockingElementOffset",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d=c.getRootBoundingClientRect(),e=d.height,f=d.top;d=c.getPlaceholderBoundingClientRect();var g=d.top;d=a-e;c=c.getSections();if(c){c=Array.from(c).map(function(a){return g+a.getBoundingClientRect().top-f});c.sort(function(a,b){return a-b});for(var h=0,i=c.length;h<i;h++){var j=c[h]-g;if(e-j<a-b){d=b-j;break}}}return d}f["default"]=a}),66);
__d("EntityPageRegion",["DirectionalDockingElement","getElementRect","getEntityPageDockingElementOffset","memoize","uniqueID"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d){var e=this;this.$9=function(){return c("getElementRect")(e.$1.getPlaceholder())};this.$10=function(){return c("getElementRect")(e.$1.getRoot())};this.$1=a;this.$2=c("uniqueID")();this.$3=0;this.$4=!1;this.$5=d;this.$6=b;this.$7=0;this.$8=!1;this.getPlaceholderBoundingClientRect=c("memoize")(this.$9);this.getRootBoundingClientRect=c("memoize")(this.$10)}var b=a.prototype;b.calculateOffset=function(a,b){if(this.$5)return this.$5(a,b,this);if(this.getRootBoundingClientRect().height+b<a)return b;else return c("getEntityPageDockingElementOffset")(a,b,this)};b.getID=function(){return this.$2};b.getOffset=function(){return this.$3};b.getTop=function(){return this.$7};b.getSections=function(){var a=this.$6;return!a?null:this.$1.getPlaceholder().querySelectorAll(a)};b.setOffset=function(a){if(a===this.$3)return;this.$3=a;this.$4=!0};b.setTop=function(a){if(a===this.$7)return;this.$7=a;this.$8=!0};b.update=function(){var a=this.$4,b=this.$8,d=this.$1,e=this.$3,f=this.$7;d instanceof c("DirectionalDockingElement")&&b?a?d.setOffsetAndTop(e,f):d.setTop(f):a&&d.setOffset(e);this.$4=!1;this.$8=!1;this.getPlaceholderBoundingClientRect=c("memoize")(this.$9);this.getRootBoundingClientRect=c("memoize")(this.$10)};return a}();g["default"]=a}),98);
__d("MutationObserver",[],(function(a,b,c,d,e,f){b=function(){function a(a){}var b=a.prototype;b.observe=function(a,b){};b.disconnect=function(){};b.takeRecords=function(){return null};return a}();c=a.MutationObserver||a.WebKitMutationObserver||b;d=c;f["default"]=d}),66);
__d("FIGEntityPageLayout",["Arbiter","DirectionalDockingElement","EntityPageConfig","EntityPageDirectionalDockingElement","EntityPageRegion","Event","MutationObserver","ResizeEventHandler","Run","SubscriptionsHandler","ViewportBounds","XUISubNavigationLoader","getViewportDimensions","queryThenMutateDOM","removeFromArray","throttle"],(function(a,b,c,d,e,f,g){"use strict";var h=[],i=null,j=null,k=null,l=null,m={attributes:!1,characterData:!0,childList:!0,subtree:!0};function n(){c("queryThenMutateDOM")(function(){var a=c("getViewportDimensions")().height,b=c("ViewportBounds").getTop();h.sort(function(a,b){return a.getPlaceholderBoundingClientRect().top<b.getPlaceholderBoundingClientRect().top?-1:1});h.forEach(function(c){var d=c.getRootBoundingClientRect(),e=d.width;d=c.getPlaceholderBoundingClientRect();var f=d.left,g=d.top,i=b;h.forEach(function(a){var b=a.getRootBoundingClientRect(),d=b.height;b=b.width;var h=a.getPlaceholderBoundingClientRect(),j=h.left;h=h.top;c!==a&&h+d<=g&&Math.min(f+e,j+b)>=Math.max(f,j)&&(i+=d+a.getOffset()-a.getTop())});d=c.calculateOffset(a,i);c.setOffset(d);c.setTop(i)})},function(){h.forEach(function(a,b){a.update()})},"EntityPageLayout")}function o(){p();k||(k=new(c("SubscriptionsHandler"))(),k.addSubscriptions(d("Run").onLeave(q)));return k}function p(){j||(j=new(c("SubscriptionsHandler"))(),j.addSubscriptions(c("ViewportBounds").subscribe("change",n),c("Arbiter").subscribe("footerLoaded",n),c("Event").listen(window,"resize",c("throttle")(n)),d("XUISubNavigationLoader").onLeave(function(){j&&(j.release(),j=null),l&&(l.disconnect(),l=null),i&&(i=null)})));return j}function q(){k&&(k.release(),k=null)}function r(a,b,d,e,f){var g=new(c("EntityPageRegion"))(d,b?b.join(","):null,f);h.push(g);n();e.addSubscriptions(d.subscribe("changedheight",n),c("Event").listen(a,"resize",n));c("EntityPageConfig").hasMutationObserver&&(l||(i=new(c("ResizeEventHandler"))(n),l=new(c("MutationObserver"))(i.handleEvent)),l.observe(a,m));return function(){c("removeFromArray")(h,g),h.length===0&&q()}}function a(a,b,d,e){var f=d?new d(a):new(c("DirectionalDockingElement"))(a),g=r(a,b,f,o(),e);return{remove:function(){g(),f.destroy()}}}function b(a,b,d,e){var f=d?new d(a):new(c("EntityPageDirectionalDockingElement"))(a),g=r(a,b,f,p(),e);return{remove:function(){g(),f.destroy()}}}g.update=n;g.register=a;g.registerAcrossTransitions=b}),98);
__d("XUISubNavigation",["cx","CSS","Event","Parent","SubscriptionsHandler","URI","XUISubNavigationLoader"],(function(a,b,c,d,e,f,g,h){var i="_8ue",j="_2yaa",k=!1;a=function(){function a(a,b,e){var f=this;e===void 0&&(e=!1);this.$1=a;this.$3=e;d("XUISubNavigationLoader").registerHandler(function(a){return f.$4(a)});this.$2=new(c("SubscriptionsHandler"))();this.$2&&this.$2.addSubscriptions(c("Event").listen(this.$1,"click",function(a){a=d("Parent").byClass(a.target,j);a instanceof HTMLElement&&a.getAttribute("data-endpoint")&&d("XUISubNavigationLoader").setSelected(a,f.$3)}),c("Event").listen(this.$1,"focusin",this.$5.bind(this)),c("Event").listen(this.$1,"focusout",this.$6.bind(this)),d("XUISubNavigationLoader").onLeave(this.destroy.bind(this)));b&&(this.$2&&this.$2.addSubscriptions(c("Event").listen(b,"click",function(a){a.preventDefault(),d("CSS").addClass(f.$1,"_5rll"),c("Event").fire(f.$1,"resize")})))}var b=a.prototype;b.destroy=function(){this.$2&&this.$2.release(),this.$2=null};b.$5=function(a){a=d("Parent").byClass(a.target,j);a&&d("CSS").addClass(a,i)};b.$6=function(a){var b=d("Parent").byClass(a.target,j);b&&!b.contains(a.relatedTarget)&&d("CSS").removeClass(b,i)};b.$4=function(a){if(k){k=!1;return!1}var b=a.getPath(),e=Array.prototype.find.call(this.$1.getElementsByTagName("a"),function(a){return new(c("URI"))(a.href).getPath()===b&&a.hasAttribute("data-endpoint")});if(e){var f=d("Parent").byClass(e,j);if(f instanceof HTMLElement){d("XUISubNavigationLoader").sendRequest(a,new(c("URI"))(e.getAttribute("data-endpoint")),f,this.$3);return!0}return!1}return!1};a.skipNextTransition=function(){k=!0};return a}();g["default"]=a}),98);
__d("XUISubNavigationItemsAndNavigationShortcutsHighlighting",["cx","CSS","DOM","Event","ge","throttle"],(function(a,b,c,d,e,f,g,h){"use strict";var i="_2yaa",j="_2yau",k="_2yap",l="_8ue",m="_4t7n",n="data-endpoint";a=function(){a.init=function(b){return new a(b)};function a(b){var d=[];for(var e=0;e<b.length;e++){var f=b[e];d=d.concat(c("DOM").scry(f,"div."+i))}for(var f=0;f<d.length;f++){e=d[f];a.addListener(e)}}a.removeHighlightingFromAllItemsExceptForURI=function(a){var b=c("ge")("entity_sidebar");b=c("DOM").scry(b,"div."+i);for(var e=0;e<b.length;e++){var f=b[e],g=c("DOM").find(f,"a."+j);g.getAttribute(n)!==a&&(d("CSS").removeClass(f,l),d("CSS").removeClass(f,k),d("CSS").removeClass(f,m))}};a.addListener=function(b){var d=c("DOM").find(b,"a."+j);c("Event").listen(b,"click",c("throttle")(a.removeHighlightingFromAllItemsExceptForURI.bind(this,d.getAttribute(n))))};return a}();g["default"]=a}),98);
__d("EntityPageSubNavigationLogger",["cx","Arbiter","Event","Parent","SubscriptionsHandler","XUISubNavigationLoader"],(function(a,b,c,d,e,f,g,h){var i="_2yaa",j,k=null;function a(a,b,d){j||(j=new(c("Arbiter"))());return j.subscribe(a,b,d)}function b(a){k||(k=new(c("SubscriptionsHandler"))(),k.addSubscriptions(d("XUISubNavigationLoader").onLeave(function(){k&&k.release(),k=null}))),k.addSubscriptions(c("Event").listen(a,"click",function(a){a=a.target;if(a instanceof Node){a=d("Parent").byClass(a,i);a&&(j&&j.inform("click",a.getAttribute("data-key")))}}))}g.subscribe=a;g.register=b}),98);
__d("XEventCreateDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/events/dialog/create/",{__asyncDialog:{type:"Int"},acontext:{type:"String",required:!0},page_id:{type:"Int"},group_id:{type:"Int"},actor_id:{type:"Int"},post_id:{type:"Int"},post_text:{type:"String"},event_id_for_copy:{type:"Int"},schema_org:{type:"String"},default_user_event_privacy_type:{type:"Enum",defaultValue:"private_event",enumType:1},intercept_session_id:{type:"String"},invite_ids:{type:"IntVector"},default_theme_id:{type:"Int"},default_title:{type:"String"},default_start_time:{type:"Int"},default_end_time:{type:"Int"},default_description:{type:"String"},default_cover_id:{type:"Int"},default_ticket_url:{type:"String"},friend_birthday_prompt_xout_id:{type:"FBID"},community_id:{type:"Int"},composer_id:{type:"String"},dialog_entry_point:{type:"Enum",defaultValue:"others",enumType:1},is_arena:{type:"Bool",defaultValue:!1},show_work_tour:{type:"Bool",defaultValue:!1}})}),null);